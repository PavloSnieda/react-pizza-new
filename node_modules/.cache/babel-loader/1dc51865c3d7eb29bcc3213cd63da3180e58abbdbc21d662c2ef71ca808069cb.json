{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nconst initialState = {\n  totalPrice: 0,\n  totalItems: 0,\n  items: []\n};\nconst cartSlice = createSlice({\n  name: 'cartSlice',\n  initialState,\n  reducers: {\n    addItem(state, action) {\n      const found = state.items.find(obj => obj.id === action.payload.id);\n      if (found) {\n        found.count++;\n      } else {\n        state.items.push({\n          ...action.payload,\n          count: 1\n        });\n      }\n      state.totalPrice = state.items.reduce((acc, el) => {\n        return acc += el.price * el.count;\n      }, 0);\n      state.totalItems = state.items.reduce((acc, el) => {\n        return acc += el.count;\n      }, 0);\n    },\n    minusItem(state, action) {\n      const found = state.items.find(obj => obj.id === action.payload);\n      if (found) {\n        found.count--;\n      }\n      state.totalPrice = state.items.reduce((acc, el) => {\n        return acc += el.price * el.count;\n      }, 0);\n      state.totalItems = state.items.reduce((acc, el) => {\n        return acc += el.count;\n      }, 0);\n    },\n    deleteItem(state, action) {\n      const confirm = window.confirm('Ты уверен? Подумай хорошо');\n      if (confirm) state.items = state.items.filter(obj => obj.id !== action.payload);\n      state.totalPrice = state.items.reduce((acc, el) => {\n        return acc += el.price * el.count;\n      }, 0);\n      state.totalItems = state.items.reduce((acc, el) => {\n        return acc += el.count;\n      }, 0);\n    },\n    clearCart(state) {\n      if (state.items.length > 0) {\n        const confirm = window.confirm('болван ты готовый бути голодний?');\n        if (confirm) {\n          state.items = [];\n          state.totalItems = 0;\n          state.totalPrice = 0;\n        }\n      }\n    }\n  }\n});\nexport const selectCart = state => state.cartSlice;\nexport const myObjofItems = (id, state) => state.cartSlice.items.find(obj => obj.id === id);\nexport const {\n  addItem,\n  minusItem,\n  deleteItem,\n  clearCart\n} = cartSlice.actions;\nexport default cartSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","totalPrice","totalItems","items","cartSlice","name","reducers","addItem","state","action","found","find","obj","id","payload","count","push","reduce","acc","el","price","minusItem","deleteItem","confirm","window","filter","clearCart","length","selectCart","myObjofItems","actions","reducer"],"sources":["/Users/pavlo/Desktop/react-pizza-main/src/Redux/Slices/cartSlice.ts"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit'\nimport { RootState } from '../store'\n\nexport type PizzaCartType = {\n    price: number,\n    title: string,\n    imageUrl: string,\n    sizeCount: number,\n    types: number[],\n    id: number,\n    typesCount: string\n    count: number\n}\n\ninterface InitialStateInterface {\n    totalPrice: number,\n    totalItems: number,\n    items: PizzaCartType[],\n}\n\nconst initialState: InitialStateInterface = {\n    totalPrice: 0,\n    totalItems: 0,\n    items: [],\n}\n\nconst cartSlice = createSlice({\n    name: 'cartSlice',\n    initialState,\n    reducers: {\n        addItem(state, action) {\n            const found = state.items.find(obj => obj.id === action.payload.id)\n            if (found) {\n                found.count++\n            } else {\n                state.items.push({\n                    ...action.payload,\n                    count: 1\n                })\n            }\n            state.totalPrice = state.items.reduce((acc, el) => {\n                return acc += (el.price * el.count)\n            }, 0)\n\n            state.totalItems = state.items.reduce((acc, el) => {\n                return acc += el.count\n            }, 0)\n\n        },\n        minusItem(state, action) {\n            const found = state.items.find(obj => obj.id === action.payload)\n            if (found) {\n                found.count--\n            }\n\n            state.totalPrice = state.items.reduce((acc, el) => {\n                return acc += (el.price * el.count)\n            }, 0)\n\n            state.totalItems = state.items.reduce((acc, el) => {\n                return acc += el.count\n            }, 0)\n        },\n        deleteItem(state, action) {\n            const confirm = window.confirm('Ты уверен? Подумай хорошо')\n            if (confirm) state.items = state.items.filter((obj) => obj.id !== action.payload)\n\n            state.totalPrice = state.items.reduce((acc, el) => {\n                return acc += (el.price * el.count)\n            }, 0)\n\n            state.totalItems = state.items.reduce((acc, el) => {\n                return acc += el.count\n            }, 0)\n        },\n        clearCart(state) {\n            if (state.items.length > 0) {\n                const confirm = window.confirm('болван ты готовый бути голодний?')\n                if (confirm) {\n                    state.items = [];\n                    state.totalItems = 0;\n                    state.totalPrice = 0;\n                }\n            }\n        }\n    }\n})\n\nexport const selectCart = (state: RootState) => state.cartSlice\nexport const myObjofItems = (id: number, state: RootState) => state.cartSlice.items.find((obj) => obj.id === id)\n\nexport const { addItem, minusItem, deleteItem, clearCart } = cartSlice.actions\nexport default cartSlice.reducer"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}