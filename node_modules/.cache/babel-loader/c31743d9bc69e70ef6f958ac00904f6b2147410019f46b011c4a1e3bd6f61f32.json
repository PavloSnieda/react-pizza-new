{"ast":null,"code":"import _objectSpread from\"/Users/pavlo/Desktop/react-pizza-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createSlice}from'@reduxjs/toolkit';var initialState={totalPrice:0,totalItems:0,items:[]};var cartSlice=createSlice({name:'cartSlice',initialState:initialState,reducers:{addItem:function addItem(state,action){var found=state.items.find(function(obj){return obj.id===action.payload.id;});if(found){found.count++;}else{state.items.push(_objectSpread(_objectSpread({},action.payload),{},{count:1}));}state.totalPrice=state.items.reduce(function(acc,el){return acc+=el.price*el.count;},0);state.totalItems=state.items.reduce(function(acc,el){return acc+=el.count;},0);},minusItem:function minusItem(state,action){var found=state.items.find(function(obj){return obj.id===action.payload;});if(found){found.count--;}state.totalPrice=state.items.reduce(function(acc,el){return acc+=el.price*el.count;},0);state.totalItems=state.items.reduce(function(acc,el){return acc+=el.count;},0);},deleteItem:function deleteItem(state,action){var confirm=window.confirm('Ты уверен? Подумай хорошо');if(confirm)state.items=state.items.filter(function(obj){return obj.id!==action.payload;});state.totalPrice=state.items.reduce(function(acc,el){return acc+=el.price*el.count;},0);state.totalItems=state.items.reduce(function(acc,el){return acc+=el.count;},0);},clearCart:function clearCart(state){if(state.items.length>0){var confirm=window.confirm('болван ты готовый бути голодний?');if(confirm){state.items=[];state.totalItems=0;state.totalPrice=0;}}}}});export var selectCart=function selectCart(state){return state.cartSlice;};export var myObjofItems=function myObjofItems(id,state){return state.cartSlice.items.find(function(obj){return obj.id===id;});};var _cartSlice$actions=cartSlice.actions,addItem=_cartSlice$actions.addItem,minusItem=_cartSlice$actions.minusItem,deleteItem=_cartSlice$actions.deleteItem,clearCart=_cartSlice$actions.clearCart;export{addItem,minusItem,deleteItem,clearCart};export default cartSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","totalPrice","totalItems","items","cartSlice","name","reducers","addItem","state","action","found","find","obj","id","payload","count","push","reduce","acc","el","price","minusItem","deleteItem","confirm","window","filter","clearCart","length","selectCart","myObjofItems","actions","reducer"],"sources":["/Users/pavlo/Desktop/react-pizza-main/src/Redux/Slices/cartSlice.ts"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit'\nimport { RootState } from '../store'\n\nexport type PizzaCartType = {\n    price: number,\n    title: string,\n    imageUrl: string,\n    sizeCount: number,\n    types: number[],\n    id: number,\n    typesCount: number\n    count: number\n}\n\ninterface InitialStateInterface {\n    totalPrice: number,\n    totalItems: number,\n    items: PizzaCartType[],\n}\n\nconst initialState: InitialStateInterface = {\n    totalPrice: 0,\n    totalItems: 0,\n    items: [],\n}\n\nconst cartSlice = createSlice({\n    name: 'cartSlice',\n    initialState,\n    reducers: {\n        addItem(state, action) {\n            const found = state.items.find(obj => obj.id === action.payload.id)\n            if (found) {\n                found.count++\n            } else {\n                state.items.push({\n                    ...action.payload,\n                    count: 1\n                })\n            }\n            state.totalPrice = state.items.reduce((acc, el) => {\n                return acc += (el.price * el.count)\n            }, 0)\n\n            state.totalItems = state.items.reduce((acc, el) => {\n                return acc += el.count\n            }, 0)\n\n        },\n        minusItem(state, action) {\n            const found = state.items.find(obj => obj.id === action.payload)\n            if (found) {\n                found.count--\n            }\n\n            state.totalPrice = state.items.reduce((acc, el) => {\n                return acc += (el.price * el.count)\n            }, 0)\n\n            state.totalItems = state.items.reduce((acc, el) => {\n                return acc += el.count\n            }, 0)\n        },\n        deleteItem(state, action) {\n            const confirm = window.confirm('Ты уверен? Подумай хорошо')\n            if (confirm) state.items = state.items.filter((obj) => obj.id !== action.payload)\n\n            state.totalPrice = state.items.reduce((acc, el) => {\n                return acc += (el.price * el.count)\n            }, 0)\n\n            state.totalItems = state.items.reduce((acc, el) => {\n                return acc += el.count\n            }, 0)\n        },\n        clearCart(state) {\n            if (state.items.length > 0) {\n                const confirm = window.confirm('болван ты готовый бути голодний?')\n                if (confirm) {\n                    state.items = [];\n                    state.totalItems = 0;\n                    state.totalPrice = 0;\n                }\n            }\n        }\n    }\n})\n\nexport const selectCart = (state: RootState) => state.cartSlice\nexport const myObjofItems = (id: number, state: RootState) => state.cartSlice.items.find((obj) => obj.id === id)\n\nexport const { addItem, minusItem, deleteItem, clearCart } = cartSlice.actions\nexport default cartSlice.reducer"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}