{"ast":null,"code":"import _regeneratorRuntime from\"/Users/pavlo/Desktop/react-pizza-main/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/pavlo/Desktop/react-pizza-main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/pavlo/Desktop/react-pizza-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState}from'react';import{useParams}from'react-router-dom';import axios from'axios';import s from'./FullPizza.module.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FullPizza=function FullPizza(){var _useParams=useParams(),id=_useParams.id;var _useState=useState(),_useState2=_slicedToArray(_useState,2),pizza=_useState2[0],setPizza=_useState2[1];React.useEffect(function(){try{var fetchPizzaById=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,item;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://63a4cc372a73744b00802459.mockapi.io/items?\");case 2:res=_context.sent;// здесь запрос по айдишке не работает, все равно возращает весь массив пиц \nitem=res.data.find(function(obj){return obj.id===Number(id);});setPizza(item);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchPizzaById(){return _ref.apply(this,arguments);};}();fetchPizzaById();}catch(error){console.log(error.message);}},[]);return/*#__PURE__*/_jsx(\"div\",{children:pizza?/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"img\",{src:pizza.imageUrl,alt:\"\"}),/*#__PURE__*/_jsx(\"p\",{children:pizza.title}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0426\\u0435\\u043D\\u0430 : \",pizza.price]})]}):/*#__PURE__*/_jsx(\"div\",{className:s.loading,children:\" \\u041F\\u0438\\u0446a \\u0437\\u0430\\u0433\\u0440\\u0443\\u0436\\u0430\\u044E\\u0442\\u0441\\u044F \"})});};export default FullPizza;","map":{"version":3,"names":["React","useState","useParams","axios","s","FullPizza","id","pizza","setPizza","useEffect","fetchPizzaById","get","res","item","data","find","obj","Number","error","console","log","message","imageUrl","title","price","loading"],"sources":["/Users/pavlo/Desktop/react-pizza-main/src/components/FullPizza/index.tsx"],"sourcesContent":["import React from 'react'\nimport { useState } from 'react'\nimport { useParams } from 'react-router-dom'\nimport axios from 'axios'\nimport s from './FullPizza.module.scss'\n\n\nconst FullPizza: React.FC = () => {\n    const { id } = useParams()\n    const [pizza, setPizza] = useState<{\n        imageUrl: string\n        title: string\n        price: number\n    }>()\n\n    React.useEffect(() => {\n        try {\n            async function fetchPizzaById() {\n                const res = await axios.get(`https://63a4cc372a73744b00802459.mockapi.io/items?`) // здесь запрос по айдишке не работает, все равно возращает весь массив пиц \n                const item: { imageUrl: string, title: string, price: number } = res.data.find((obj: { id: number }) => obj.id === Number(id))\n                setPizza(item)\n            }\n            fetchPizzaById()\n        } catch (error: any) {\n            console.log(error.message)\n        }\n    }, [])\n\n    return (\n        <div>\n            {pizza\n                ?\n                <div className='container'>\n                    <img src={pizza.imageUrl} alt=\"\" />\n                    <p>{pizza.title}</p>\n                    <p>Цена : {pizza.price}</p>\n\n                </div>\n                :\n                <div className={s.loading}> Пицa загружаются </div>}\n        </div>\n\n\n\n    )\n}\n\nexport default FullPizza"],"mappings":"iYAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,OAAO,CAChC,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,MAAOC,MAAK,KAAM,OAAO,CACzB,MAAOC,EAAC,KAAM,yBAAyB,yFAGvC,GAAMC,UAAmB,CAAG,QAAtBA,UAAmB,EAAS,CAC9B,eAAeH,SAAS,EAAE,CAAlBI,EAAE,YAAFA,EAAE,CACV,cAA0BL,QAAQ,EAI9B,wCAJGM,KAAK,eAAEC,QAAQ,eAMtBR,KAAK,CAACS,SAAS,CAAC,UAAM,CAClB,GAAI,IACeC,eAAc,4FAA7B,wKACsBP,MAAK,CAACQ,GAAG,sDAAsD,QAA3EC,GAAG,eAAyE;AAC5EC,IAAwD,CAAGD,GAAG,CAACE,IAAI,CAACC,IAAI,CAAC,SAACC,GAAmB,QAAKA,IAAG,CAACV,EAAE,GAAKW,MAAM,CAACX,EAAE,CAAC,GAAC,CAC9HE,QAAQ,CAACK,IAAI,CAAC,uDACjB,kBAJcH,eAAc,2CAK7BA,cAAc,EAAE,CACpB,CAAE,MAAOQ,KAAU,CAAE,CACjBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAACG,OAAO,CAAC,CAC9B,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,mBACI,qBACKd,KAAK,cAEF,aAAK,SAAS,CAAC,WAAW,wBACtB,YAAK,GAAG,CAAEA,KAAK,CAACe,QAAS,CAAC,GAAG,CAAC,EAAE,EAAG,cACnC,mBAAIf,KAAK,CAACgB,KAAK,EAAK,cACpB,mDAAWhB,KAAK,CAACiB,KAAK,GAAK,GAEzB,cAEN,YAAK,SAAS,CAAEpB,CAAC,CAACqB,OAAQ,sGAAyB,EACrD,CAKd,CAAC,CAED,cAAepB,UAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}